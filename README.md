# 지하철 미션


## 1단계 기능 요구 사항

지하철역
- 지하철역 생성 시 이미 등록된 이름으로 요청한다면 에러를 응답

노선
- 노선을 등록할 수 있다.
- 전체 노선들을 조회할 수 있다.
- 특정 노선을 조회할 수 있다.
- 특정 노선을 수정할 수 있다.
- 특정 노선을 삭제할 수 있다.
- 이미 등록된 이름으로 요청한다면 에러를 응답

## 2단계 기능 요구 사항

- H2 설정
- 테이블 생성
- Dao에서 객체가 아닌 H2에 저장
- 스프링 Bean 등록

### 3단계 - 지하철 구간 관리 기능
1. 노선 추가 시 3가지 정보를 추가로 입력받는다.
    - [ ] upStationId : 상행 종점
    - [ ] downStationId : 하행 종점
    - [ ] distance : 두 종점 간의 거리

2. 위 3가지 정보는 구간으로 등록된다.
    - [x] 새로 등록할 구간의 상행역과 하행역 중 노선에 이미 등록되어있는 역을 기준으로 새로운 구간을 추가한다.
    - [x] 하나의 노선에는 갈래길이 허용되지 않기 때문에 새로운 구간이 추가되기 전에 갈래길이 생기지 않도록 기존 구간을 변경한다.
    - [x] `예외` 역 사이에 새로운 역을 등록할 경우 기존 역 사이 길이보다 크거나 같으면 등록을 할 수 없다.
    - [x] `예외` 상행역과 하행역이 이미 노선에 모두 등록되어 있다면 추가할 수 없다.
    - [x] `예외` 상행역과 하행역 둘 중 하나도 포함되어있지 않으면 추가할 수 없다.

3. 구간을 제거할 수 있다.
    - [ ] 종점이 제거될 경우 다음으로 오던 역이 종점이 된다.
    - [ ] 중간역이 제거될 경우 노선을 재배치한다.
        - [ ] 거리는 두 구간의 거리의 합으로 정한다.
    - [ ] `예외` 구간이 하나인 노선에서 마지막 구간을 제거할 수 없다.
